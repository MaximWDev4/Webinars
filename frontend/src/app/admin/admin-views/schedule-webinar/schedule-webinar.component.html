<div class="container">
  <h1>
    Запланировать вебинар
  </h1>
  <div class="form" [formGroup]="form">
    <label for="time" class="mt-3">Номер чат комнаты</label>
    <input
      type="text"
      id="time"
      class="form-control"
      formControlName="chatroomId"
      [ngClass]="{ 'is-invalid': isInvalid('chatroomId') }"
      placeholder="1/2/3...">
    <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
    <div *ngIf="isInvalid('chatroomId')" class="invalid-feedback">
      <div *ngIf="getErrors('chatroomId').required">Поле является обязательным</div>
      <div *ngIf="getErrors('chatroomId').pattern">Введённое значение не является корректным номером</div>
    </div>

    <label for="name" class="mt-3">Название вебинара</label>
    <input
      type="text"
      id="name"
      class="form-control"
      formControlName="name"
      [ngClass]="{ 'is-invalid': isInvalid('name') }"
      placeholder="Название">
    <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
    <div *ngIf="isInvalid('name')" class="invalid-feedback">
      <div *ngIf="getErrors('name').required">Поле является обязательным</div>
    </div>

    <label for="start_time" class="mt-3">Время начала трансляции</label>
    <input formControlName="startTime"
           ngbDatepicker #dpStartDate="ngbDatepicker"
           class="form-control"
           readonly
           type="date"
           id="start_time"
           (click)="dpStartDate.toggle()"
           placeholder=""
           [autoClose]="'outside'"
           [displayMonths]="1"
           [startDate]="startDate"

           [maxDate]="maxDate"
           outsideDays="hidden"
           (dateSelect)="onDateSelection($event, dpStartDate, 'startTime')"
           [ngClass]="{ 'is-invalid': isInvalid('startTime') }">
    <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
    <div *ngIf="isInvalid('startTime')" class="invalid-feedback">
      <div *ngIf="getErrors('startTime').required">Поле является обязательным</div>
    </div>

    <label for="url" class="mt-3">Конец ссылки на ютуб стрим или видео ( например: https://www.youtube.com/watch?v=<b>OpAHNHFfWH4</b> )</label>
    <input
      type="text"
      id="url"
      class="form-control"
      formControlName="url"
      [ngClass]="{ 'is-invalid': isInvalid('url') }"
      placeholder="OpAHNHFfWH4">
    <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
    <div *ngIf="isInvalid('url')" class="invalid-feedback">
      <div *ngIf="getErrors('url').required">Поле является обязательным</div>
      <div *ngIf="getErrors('url').pattern">Введённое значение не является корректным URL</div>
    </div>

    <input type="button" class="submit btn btn-primary mt-3" (click)="submit()" [disabled]="form.invalid" value="Запланировать">
  </div>
</div>
